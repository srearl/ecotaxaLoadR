% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/load_pid_files.R
\name{parse_metadata_sections_long}
\alias{parse_metadata_sections_long}
\title{Parse Metadata Sections from PID File Header}
\usage{
parse_metadata_sections_long(metadata_lines, scan_id, filename)
}
\arguments{
\item{metadata_lines}{Character vector. Lines containing metadata from file header.}

\item{scan_id}{Character string. Unique identifier for this scan.}

\item{filename}{Character string. Original filename to include in metadata.}
}
\value{
A tibble with columns:
\item{scan_id}{Character. Unique scan identifier}
\item{section_name}{Character. Name of the metadata section}
\item{key}{Character. Metadata key/parameter name}
\item{value}{Character. Metadata value}
}
\description{
Parses the metadata sections from PID file header lines,
extracting key-value pairs organized by section headers into a long-format tibble.
Also parses SampleId and Date fields from the Sample subsection to extract
cruise, moc, net, and sample_date information.
}
\details{
The function processes metadata by:
\itemize{
\item Identifying section headers (lines with \code{Section Name} format)
\item Parsing key=value pairs within each section
\item Propagating section names to associated key-value pairs
\item Adding filename as a special metadata record
\item Parsing SampleId to extract cruise, moc, and net components
\item Parsing Date field from Sample section to extract sample_date
\item Returning data in long format for easy filtering and analysis
}
}
\keyword{internal}
